{% extends 'base.html' %}

{%- from 'govuk_frontend_jinja/components/table/macro.html' import govukTable -%}
{%- from "govuk_frontend_jinja/components/warning-text/macro.html" import govukWarningText %}
{% from "govuk_frontend_jinja/components/notification-banner/macro.html" import govukNotificationBanner %}
{%- from 'govuk_frontend_jinja/components/button/macro.html' import govukButton -%}
{%- from 'components/moj_sub_navigation.html' import mojSubNavigation %}
{%- from 'components/back_link.html' import govukBackLink -%}
{% from 'govuk_frontend_jinja/components/summary-list/macro.html' import govukSummaryList %}
{%- from 'macros/flash_messages.html' import renderFlashMessages %}
{%- from 'govuk_frontend_jinja/components/tag/macro.html' import govukTag -%}
{%- from 'govuk_frontend_jinja/components//warning-text/macro.html' import govukWarningText -%}

{% block beforeContent %}
  {{ super() }}
  {{ govukBackLink({"text": "Back to all providers", "href": url_for("main.providers") }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

    {{ renderFlashMessages() }}

    <span class="govuk-caption-xl">{{ firm.firm_type|capitalize }}</span>
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-2">{{ firm.firm_name }}</h1>
    {%  if firm.inactive_date %}
        {{  govukTag({
            "text": "Inactive",
            "classes": "govuk-tag--grey",
        }) }}
        {{ govukWarningText({
            "text": "Provider marked as inactive on " ~ firm.inactive_date.strftime("%d/%m/%Y"),
            "classes": "govuk-!-margin-top-2 govuk-!-margin-bottom-3"
        }) }}
        {{ govukWarningText({
            "text": "Payments for all offices are hold because provider is inactive",
            "classes": "govuk-!-margin-bottom-5"
        }) }}
    {% endif %}

    {% block actionButtons %}
      {# Place firm-type specific action buttons  #}
    {% endblock %}

    {% if main_table %}
      {{ govukTable(main_table.to_govuk_params()) }}
    {% endif %}

    </div>

  </div>

{% block firmTypeSubNavigation %}
  {# Sub-navigation with type-appropriate panels #}
{% endblock %}

{% endblock %}