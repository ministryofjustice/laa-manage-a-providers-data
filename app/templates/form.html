{# This is the base form page that should be used or extended for all question pages. #}
{% extends 'base.html' %}

{%- from 'govuk_frontend_jinja/components/button/macro.html' import govukButton -%}
{%- from 'components/back_link.html' import govukBackLink -%}

{% block pageTitle %}{{ form.title }} â€“ GOV.UK{% endblock %}

{% block beforeContent %}
  {{ govukBackLink() }}
{% endblock %}

{% block pageContent %}
  <form method="post" novalidate>
    {% block form %}
      {{ form.hidden_tag() }}
      {% if not form | has_page_heading %}
          {% block pageHeading %}
            {% if form.caption %}
              <span class="govuk-caption-xl">{{ form.caption }}</span>
            {% endif %}
            <h1 class="govuk-heading-xl">{{ form.title|replace('\n', '<br>')|safe }}</h1>
          {% endblock %}
      {% endif %}

      {% if form.description %}
        {# Bottom margin is 50px to match the bottom margin of the xl heading #}
        <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-8">{{ form.description }}</p>
      {% endif %}

      {% for field in form %}
        {% if field.type != 'CSRFToken' and field.type != 'HiddenField' and field.type != "SubmitField" %}
          {{ field }}
        {% endif %}
      {% endfor %}
        
      {%  block FormButtons %}
          {% set submitButtonText = form.submit_button_text or "Continue" %}

          {{ govukButton({
            'text': submitButtonText
          }) }}
      {% endblock %}

      {# Render additional submissions buttons to the right of the default field #}
      {% for field in form %}
        {% if field.type == "SubmitField" %}
          {{ field }}
        {% endif %}
      {% endfor %}

    {% endblock %}
  </form>
{% endblock %}
